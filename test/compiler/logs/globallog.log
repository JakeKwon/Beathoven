/usr/bin/lli

###### Testing all
../../src/beathoven < pass/all.bt > logs/all.bt.ll
lli logs/all.bt.ll > logs/all.bt.out
diff -b logs/all.bt.out pass/all.out > logs/all.diff
###### OK

###### Testing bool
../../src/beathoven < pass/bool.bt > logs/bool.bt.ll
lli logs/bool.bt.ll > logs/bool.bt.out
diff -b logs/bool.bt.out pass/bool.out > logs/bool.diff
###### OK

###### Testing functions
../../src/beathoven < pass/functions.bt > logs/functions.bt.ll
lli logs/functions.bt.ll > logs/functions.bt.out
diff -b logs/functions.bt.out pass/functions.out > logs/functions.diff
###### OK

###### Testing helloworld
../../src/beathoven < pass/helloworld.bt > logs/helloworld.bt.ll
lli logs/helloworld.bt.ll > logs/helloworld.bt.out
diff -b logs/helloworld.bt.out pass/helloworld.out > logs/helloworld.diff
###### OK

###### Testing if
../../src/beathoven < pass/if.bt > logs/if.bt.ll
lli logs/if.bt.ll > logs/if.bt.out
diff -b logs/if.bt.out pass/if.out > logs/if.diff
###### OK

###### Testing math
../../src/beathoven < pass/math.bt > logs/math.bt.ll
lli logs/math.bt.ll > logs/math.bt.out
diff -b logs/math.bt.out pass/math.out > logs/math.diff
###### OK

###### Testing printStr
../../src/beathoven < pass/printStr.bt > logs/printStr.bt.ll
lli logs/printStr.bt.ll > logs/printStr.bt.out
diff -b logs/printStr.bt.out pass/printStr.out > logs/printStr.diff
###### OK

###### Testing struct
../../src/beathoven < pass/struct.bt > logs/struct.bt.ll
lli logs/struct.bt.ll > logs/struct.bt.out
diff -b logs/struct.bt.out pass/struct.out > logs/struct.diff
###### OK

###### Testing weird
../../src/beathoven < pass/weird.bt > logs/weird.bt.ll
lli logs/weird.bt.ll > logs/weird.bt.out
diff -b logs/weird.bt.out pass/weird.out > logs/weird.diff
###### OK

###### Testing while
../../src/beathoven < pass/while.bt > logs/while.bt.ll
Uncaught exception:
  
  "Match_failure codegen.ml:384:31"

Called from file "list.ml", line 84, characters 24-34
Called from file "codegen.ml", line 475, characters 10-51
Called from file "codegen.ml", line 520, characters 23-38
Called from file "list.ml", line 73, characters 12-15
Called from file "codegen.ml", line 526, characters 2-45
Called from file "beathoven.ml", line 34, characters 25-53
lli logs/while.bt.ll > logs/while.bt.out
'main' function not found in module.
diff -b logs/while.bt.out pass/while.out > logs/while.diff
###### OK

###### Testing assignment
../../src/beathoven < fail/assignment.bt 2> logs/assignment.bt.err >> logs/globallog.log
diff -b logs/assignment.bt.err fail/assignment.err > logs/assignment.diff
###### OK

###### Testing duplicate-func
../../src/beathoven < fail/duplicate-func.bt 2> logs/duplicate-func.bt.err >> logs/globallog.log
diff -b logs/duplicate-func.bt.err fail/duplicate-func.err > logs/duplicate-func.diff
###### OK

###### Testing duplicate-vardecl
../../src/beathoven < fail/duplicate-vardecl.bt 2> logs/duplicate-vardecl.bt.err >> logs/globallog.log
diff -b logs/duplicate-vardecl.bt.err fail/duplicate-vardecl.err > logs/duplicate-vardecl.diff
###### OK

###### Testing shouldaccessstructtype
../../src/beathoven < fail/shouldaccessstructtype.bt 2> logs/shouldaccessstructtype.bt.err >> logs/globallog.log
diff -b logs/shouldaccessstructtype.bt.err fail/shouldaccessstructtype.err > logs/shouldaccessstructtype.diff
###### OK

###### Testing structfieldnotfound
../../src/beathoven < fail/structfieldnotfound.bt 2> logs/structfieldnotfound.bt.err >> logs/globallog.log
diff -b logs/structfieldnotfound.bt.err fail/structfieldnotfound.err > logs/structfieldnotfound.diff
###### OK

###### Testing type_addition
../../src/beathoven < fail/type_addition.bt 2> logs/type_addition.bt.err >> logs/globallog.log
diff -b logs/type_addition.bt.err fail/type_addition.err > logs/type_addition.diff
###### OK

###### Testing undefinedstruct
../../src/beathoven < fail/undefinedstruct.bt 2> logs/undefinedstruct.bt.err >> logs/globallog.log
diff -b logs/undefinedstruct.bt.err fail/undefinedstruct.err > logs/undefinedstruct.diff
###### OK
